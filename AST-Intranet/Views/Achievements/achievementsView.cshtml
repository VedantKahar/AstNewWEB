@{
    ViewBag.Title = "Achievements";
    Layout = "~/Views/Shared/_Layout.cshtml";
    // Add this line to access the Achievement models
}
@using AST_Intranet.Controllers;
<link rel="stylesheet" href="@Url.Content("~/Content/css/AchievementsStyles.css")">

<div class="main-content">
    <div class="content">
        <!-- Loop through each achievement section -->
        @foreach (var achievementsSection in ViewBag.AchievementData as List<AchievementSection>)
        {
            <!-- Check if the section is Company Achievements -->
            if (achievementsSection.Section == "Company Achievements")
            {
                <section class="achievements-section">
                    <h2>@achievementsSection.Section</h2>
                    <div class="achievement-cards-container">
                        <div class="achievement-card">
                            <!-- Prev Button -->
                            <button class="prev-btn" onclick="prevAchievement()">&#10094;</button>

                            <!-- Image Slider -->
                            <div class="image-slider">
                                <div class="slider-content">
                                    <!-- Loop through each image in the Company Achievements section -->
                                    @foreach (var achievement in achievementsSection.Images)
                                    {
                                        <div class="achievement-content">
                                            <!-- Fetch the image using the GetImage action -->
                                            <img src="@Url.Action("GetImage", "Achievements", new { folderName = achievement.Folder, fileName = achievement.Image })" alt="@achievement.Name" class="slider-image">
                                            <h3>@achievement.Name</h3>
                                            <p>@achievement.Description</p>
                                        </div>
                                    }
                                </div>
                            </div>

                            <!-- Next Button -->
                            <button class="next-btn" onclick="nextAchievement()">&#10095;</button>
                        </div>
                    </div>
                </section>
            }
            else
            {
                <!-- Render other sections like Employee Achievements and Competition Winners outside the slider -->
                <section class="achievements-section">
                    <h2>@achievementsSection.Section</h2>
                    <div class="achievement-cards-container">
                        @foreach (var achievement in achievementsSection.Images)
                        {
                            <div class="achievement-card">
                                <div class="achievement-image">
                                    <img src="@Url.Action("GetImage", "Achievements", new { folderName = achievement.Folder, fileName = achievement.Image })" alt="@achievement.Name">
                                </div>
                                <h3>@achievement.Name</h3>
                                <div class="desc">
                                    <p>@achievement.Description</p>
                                </div>

                                    
                                </div>
                                }
                            </div>
                </section>
            }
        }
    </div>
</div>

<script src="@Url.Content("~/Scripts/script/AchievementsScript.js")"></script>
